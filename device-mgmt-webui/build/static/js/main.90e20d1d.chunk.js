(this["webpackJsonpdevice-app"]=this["webpackJsonpdevice-app"]||[]).push([[0],{244:function(e,t,a){e.exports=a.p+"static/media/clound_icon.54efc303.png"},276:function(e,t,a){},450:function(e,t,a){e.exports=a.p+"static/media/connection.2d38da41.png"},459:function(e,t,a){e.exports=a(643)},464:function(e,t,a){},643:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(16),i=a.n(l),o=(a(464),a(17)),r=a(18),s=a(20),d=a(19),m=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"row",id:"header"},"Device Manager")}}]),a}(n.Component),u=a(677),h=a(98),v=a(147),p=a.n(v),f=a(236),g=a.n(f),E=a(145),b=a.n(E),C=a(146),N=a.n(C),D=a(442),O=a.n(D),y=a(302),k=a(361),S=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props,t=e.onClick,a=e.disable,n=void 0!==a&&a,l=e.icon,i=e.title;return c.a.createElement(c.a.Fragment,null,c.a.createElement(k.a,{title:i},c.a.createElement(y.a,{onClick:t,disabled:n},l)))}}]),a}(c.a.Component),j=(a(276),a(144)),R=a(225),H=a(385),I=a(663),w=a(666),P=a(665),T=a(664),M=a(387),B=a(386),L=a(431),x=a.n(L),V=(window.location.protocol,window.location.hostname,a(226)),G=x.a.create({});function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",a=arguments.length>2?arguments[2]:void 0,n=G({method:t,url:"/cxf/v1/".concat(e),data:a});return Object(V.trackPromise)(n)}var F=a(675),W=(a(81),function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state.deviceHolderName;n.props.onCloseDialog();var a=n.state.deviceInfo,c=a.name,l=a.hardwareType,i=a.interfaceVersion,o=a.connectionMechanism;c&&l&&i&&o&&t?A("device","POST",{name:c,hardwareType:l,interfaceVersion:i,connectionMechanism:o,deviceHolderName:t}).then((function(e){200===e.status&&(F.a.success({message:"Success",description:"Add device successfully!"}),n.props.setNeedRefreshTabMenuState(!0),n.setState({deviceInfo:{}}))})).catch((function(e){e.response.data?F.a.error({message:"Error",description:e.response.data.message}):F.a.error({message:"Error",description:e.message})})):F.a.error({message:"Error",description:"Mandatory attributes (hwType, version or connectionMechanism) are missing"})},n.onChangeDiviceInfo=function(e){var t=e.target,a=t.name,c=t.value;n.setState((function(e){return{deviceInfo:Object(R.a)({},e.deviceInfo,Object(j.a)({},a,c))}}))},n.state={open:!1,deviceInfo:{},deviceHolderName:""},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({deviceHolderName:this.props.deviceHolder})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(I.a,{open:this.props.openDialog,onClose:this.props.onCloseDialog,"aria-labelledby":"form-dialog-title"},c.a.createElement(T.a,{id:"form-dialog-title"},"Create device"),c.a.createElement(P.a,null,c.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},c.a.createElement(H.a,{margin:"dense",id:"name",name:"name",label:"Device name",fullWidth:!0,autoFocus:!0,required:!0,onChange:this.onChangeDiviceInfo}),c.a.createElement(H.a,{margin:"dense",id:"hardwareType",name:"hardwareType",label:"Hardware type",fullWidth:!0,required:!0,onChange:this.onChangeDiviceInfo}),c.a.createElement(H.a,{margin:"dense",id:"interfaceVersion",name:"interfaceVersion",label:"Interface version",fullWidth:!0,required:!0,onChange:this.onChangeDiviceInfo}),c.a.createElement(H.a,{id:"connectionMechanism",name:"connectionMechanism",margin:"dense",select:!0,label:"Connection mechanism",onChange:this.onChangeDiviceInfo,required:!0,fullWidth:!0},[{value:"Call home"},{value:"Non Callhome"}].map((function(e){return c.a.createElement(B.a,{key:e.value,value:e.value},e.value)}))),c.a.createElement(H.a,{id:"deviceHolder",name:"deviceHolderName",margin:"dense",label:"Device holder",value:this.props.deviceHolder,required:!0,disabled:!0,fullWidth:!0}),c.a.createElement(w.a,null,c.a.createElement(M.a,{onClick:this.props.onCloseDialog,color:"primary"},"Cancel"),c.a.createElement(M.a,{variant:"contained",type:"submit",color:"primary"},"Save"))))))}}]),a}(n.Component)),q=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).handleSubmit=function(t){t.preventDefault(),e.props.handleCloseDelete();var a=e.props,n=a.history,c=a.param,l=a.title,i=a.name,o=a.deviceHolder;"devices"===l&&e.deleteDevices(c,n),"device"===l&&e.deleteDeviceItem(i,n,o),"device holders"===l&&e.deleteDeviceHolders()},e.deleteDevices=function(t,a){A("device?deviceHolderName=".concat(t),"DELETE",null).then((function(t){200===t.status&&(F.a.success({message:"Success",description:"Delete all devices successfully!"}),e.props.setNeedRefreshTabMenuState(!0),a.push("/"))})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},e.deleteDeviceItem=function(e,t,a){A("device/".concat(e),"DELETE",null).then((function(e){200===e.status&&(F.a.success({message:"Success",description:"Delete device successfully!"}),t.push("/".concat(a,"/devices")))})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},e.deleteDeviceHolders=function(){A("device-holder","DELETE",null).then((function(t){200===t.status&&(F.a.success({message:"Success",description:"Delete all device holder successfully!"}),e.props.setNeedRefreshDeviceHolderState(!0))})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.openDialog;return c.a.createElement("div",null,e&&c.a.createElement(I.a,{open:this.props.openDialog,onClose:this.props.handleCloseDelete,"aria-labelledby":"form-dialog-title"},c.a.createElement(T.a,{id:"form-dialog-title"},"Delete ",this.props.title),c.a.createElement(P.a,null,c.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},c.a.createElement(h.a,{variant:"body2",gutterBottom:!0},"Are you sure you want to delete this ",this.props.title,"?"),c.a.createElement(w.a,null,c.a.createElement(M.a,{onClick:this.props.handleCloseDelete,color:"primary"},"No"),c.a.createElement(M.a,{variant:"contained",type:"submit",color:"primary"},"Yes"))))))}}]),a}(n.Component),J=a(87),U=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onClickDeleteButton=function(){n.setState({openDelete:!0})},n.onClickReloadButton=function(){console.log("perform click reload buton"),n.props.setNeedRefreshTabMenuState(!0)},n.handleClickOpen=function(){n.setState({openAdd:!0})},n.handleClose=function(){n.setState({openAdd:!1})},n.handleCloseDelete=function(){n.setState({openDelete:!1})},n.handleClickMessageButton=function(){A("device/status","GET",null).then((function(e){200===e.status&&F.a.success({message:"Success",description:"Send message successfully!"})})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},n.pathIconButton=[{pathName:"Breadcrumb",iconButtons:[{id:1,icon:c.a.createElement(O.a,null),disable:!1,onClick:n.handleClickMessageButton,title:" Status device"},{id:2,icon:c.a.createElement(g.a,null),disable:!1,onClick:n.handleClickOpen,title:"Create device"},{id:3,icon:c.a.createElement(b.a,null),disable:!1,onClick:n.onClickDeleteButton,title:"Delete device holder"},{id:4,icon:c.a.createElement(N.a,null),disable:!1,onClick:n.onClickReloadButton,title:"Refresh"}]}],n.pathList=[{name:"Device holders",color:"inherit",to:"/",onClick:n.handleClick,className:"link"},{name:n.props.param,color:"textPrimary",className:"link"}],n.handleClick=function(e){e.preventDefault(),console.info("You clicked a breadcrumb.")},n.state={openAdd:!1,openDelete:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.pathList.length;return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 path"},c.a.createElement(u.a,{separator:c.a.createElement(p.a,{fontSize:"small"}),"aria-label":"breadcrumb"},this.pathList.map((function(t,a){return e===a+1?c.a.createElement(k.a,{key:a,title:t.name},c.a.createElement(h.a,{color:t.color,className:t.className},t.name)):c.a.createElement(k.a,{key:a,title:t.name},c.a.createElement(J.b,{color:t.color,to:t.to,onClick:t.onClick,className:t.className},t.name))}))),c.a.createElement("h3",{id:"currentName"},this.props.param)),c.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 content-flex-end"},this.pathIconButton[0].iconButtons.map((function(e,t){return c.a.createElement(S,{key:t,icon:e.icon,disable:e.disable,onClick:e.onClick,title:e.title})})),c.a.createElement(W,{deviceHolder:this.props.param,openDialog:this.state.openAdd,onCloseDialog:this.handleClose,setNeedRefreshTabMenuState:this.props.setNeedRefreshTabMenuState}),c.a.createElement(q,{title:"device holder",param:this.props.param,history:this.props.history,deviceHolder:this.props.param,openDialog:this.state.openDelete,handleCloseDelete:this.handleCloseDelete,setNeedRefreshTabMenuState:this.props.setNeedRefreshTabMenuState}))))}}]),a}(n.Component),z=a(150),Y=a(671),X=a(676),$=a(667),_=a(237),K=a.n(_),Q=a(672),Z=a(673),ee=a(674),te=a(244),ae=a.n(te),ne=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.deviceItem,t=e.hardwareType+" "+e.interfaceVersion;return c.a.createElement("div",null,e&&c.a.createElement(J.b,{to:"/".concat(e.deviceHolderName,"/devices/").concat(e.name)},c.a.createElement(Q.a,{variant:"outlined",className:"cardRoot"},c.a.createElement(ee.a,{className:"cardCover",image:ae.a,title:"device"}),c.a.createElement("div",{className:"cardDetail"},c.a.createElement(Z.a,{className:"cardText"},c.a.createElement(k.a,{title:e.name},c.a.createElement(h.a,{variant:"h6",gutterBottom:!0},e.name)),c.a.createElement(k.a,{title:t},c.a.createElement(h.a,{variant:"body2",gutterBottom:!0},e.hardwareType," ",e.interfaceVersion)))))))}}]),a}(n.Component),ce=a(429),le=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e){n.setState({page:e});var t=n.state.numberRowPerPage;n.props.changePage(e+1,t)},n.handleChangeRowPerPage=function(e){n.setState({numberRowPerPage:e}),n.setState({page:0}),n.props.changePage(1,e)},n.state={deviceList:[],numberRowPerPage:8,totalRow:0,page:0},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({deviceList:this.props.deviceList,totalRow:this.props.total})}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.deviceList)!==JSON.stringify(e.deviceList)&&this.setState({deviceList:this.props.deviceList,totalRow:this.props.total})}},{key:"render",value:function(){var e=this,t=this.state,a=t.deviceList,n=t.totalRow,l=a&&a.length>0;return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},l&&c.a.createElement(K.a,{columns:[{field:"deviceItem",render:function(e){var t=c.a.createElement(c.a.Fragment,null," ");return e.deviceItem&&e.deviceItem.length>0&&(t=e.deviceItem.map((function(e,t){return c.a.createElement("div",{key:t,className:"col-lg-3 col-md-3 col-sm-3 pr-1 pl-1 pb-3"},c.a.createElement(ne,{deviceItem:e}))}))),c.a.createElement("div",{className:"dislay-flexbox"}," ",t," ")}}],data:[{deviceItem:a}],options:{toolbar:!1},components:{Pagination:function(t){return c.a.createElement(ce.a,{component:"div",labelRowsPerPage:"Items per page:",rowsPerPageOptions:[8,16,24],rowsPerPage:e.state.numberRowPerPage,count:n,page:e.state.page,onChangePage:function(t,a){return e.handleChangePage(a)},onChangeRowsPerPage:function(t){e.handleChangeRowPerPage(t.target.value)}})}}}))}}]),a}(n.Component),ie=a(448),oe=a.n(ie),re=a(449),se=a.n(re),de=function(e){var t=Object(V.usePromiseTracker)().promiseInProgress;return c.a.createElement(oe.a,{active:t,spinner:c.a.createElement(se.a,{size:14,margin:2,color:"#25C6DA"})})},me=function(e,t){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e),disabled:t}},ue=function(e){var t=e.children,a=e.value,n=e.index,l=Object(z.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({hidden:a!==n},l,{className:"tabContent"}),a===n&&c.a.createElement("div",null,t))},he=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getDiviceList=function(e,t,a){A("device/".concat(e,"?page=").concat(t,"&limit=").concat(a),"GET",null).then((function(e){200===e.status&&n.setState({deviceList:e.data.deviceVOS,total:e.data.total})})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},n.changePage=function(e,t){n.setState({page:e,limit:t}),n.getDiviceList(n.props.param,e,t)},n.handleChange=function(e,t){n.setState({value:t})},n.state={value:0,deviceList:[],deviceHolder:"",total:0,page:1,limit:8},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({deviceHolder:this.props.param});var e=this.state,t=e.page,a=e.limit;this.getDiviceList(this.props.param,t,a)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.needRefreshTabMenu){var a=this.state,n=a.page,c=a.limit;this.getDiviceList(this.props.param,n,c),this.props.setNeedRefreshTabMenuState(!1)}}},{key:"render",value:function(){var e=this.state,t=e.deviceList,a=e.total,n=this.props.param;return c.a.createElement("div",{className:"row"},c.a.createElement(Y.a,{position:"static",elevation:0},c.a.createElement(X.a,{value:this.state.value,onChange:this.handleChange,"aria-label":"tabs menu",indicatorColor:"primary",textColor:"primary",className:"tabHeader"},c.a.createElement($.a,Object.assign({className:"tabTitle",label:"DEVICES"},me(0,!1))),c.a.createElement($.a,Object.assign({className:"tabTitle",label:"EXTENSIONS"},me(1,!1))),c.a.createElement($.a,Object.assign({className:"tabTitle",label:"LOGGING"},me(2,!1))))),n&&c.a.createElement(ue,{value:this.state.value,index:0},c.a.createElement(de,null),c.a.createElement(le,{changePage:this.changePage,param:n,deviceList:t,total:a})),c.a.createElement(ue,{value:this.state.value,index:1}),c.a.createElement(ue,{value:this.state.value,index:2}))}}]),a}(n.Component),ve=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setNeedRefreshTabMenuState=function(e){n.setState({needRefreshTabMenu:e})},n.state={needRefreshTabMenu:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.match.params.deviceHolder,t=this.props.history;return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("div",{className:"row",id:"tool"},c.a.createElement(U,{history:t,param:e,setNeedRefreshTabMenuState:this.setNeedRefreshTabMenuState})),c.a.createElement(he,{param:e,needRefreshTabMenu:this.state.needRefreshTabMenu,setNeedRefreshTabMenuState:this.setNeedRefreshTabMenuState}))}}]),a}(n.Component),pe=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onClickDeleteButton=function(){n.setState({openDelete:!0})},n.onClickReloadButton=function(){n.props.setNeedRefreshDevice(!0)},n.handleCloseDelete=function(){n.setState({openDelete:!1})},n.pathIconButton=function(){return[{pathName:"Breadcrumb",iconButtons:[{id:1,icon:c.a.createElement(b.a,null),disable:!1,onClick:n.onClickDeleteButton,title:"Delete device"},{id:2,icon:c.a.createElement(N.a,null),disable:!1,onClick:n.onClickReloadButton,title:"Refresh"}]}]},n.pathList=[{name:"Device holders",color:"inherit",to:"/",onClick:n.handleClick,className:"link"},{name:n.props.deviceHolder,color:"inherit",to:"/".concat(n.props.deviceHolder,"/devices"),onClick:n.handleClick,className:"link"},{name:n.props.name,color:"textPrimary",className:"link"}],n.handleClick=function(e){e.preventDefault(),console.info("You clicked a breadcrumb.")},n.state={open:!1,openDelete:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.pathIconButton()[0].iconButtons.map((function(e,t){return c.a.createElement(S,{key:t,icon:e.icon,disable:e.disable,onClick:e.onClick,title:e.title})})),t=this.pathList.length;return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 path"},c.a.createElement(u.a,{separator:c.a.createElement(p.a,{fontSize:"small"}),"aria-label":"breadcrumb"},this.pathList.map((function(e,a){return t===a+1?c.a.createElement(k.a,{key:a,title:e.name},c.a.createElement(h.a,{color:e.color,className:e.className},e.name)):c.a.createElement(k.a,{key:a,title:e.name},c.a.createElement(J.b,{color:e.color,to:e.to,onClick:e.onClick,className:e.className},e.name))}))),c.a.createElement("h3",{id:"currentName"},this.props.name)),c.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 content-flex-end"},e)),c.a.createElement(q,{title:"device",history:this.props.history,name:this.props.name,deviceHolder:this.props.deviceHolder,openDialog:this.state.openDelete,handleCloseDelete:this.handleCloseDelete,setNeedRefreshDevice:this.props.setNeedRefreshDevice}))}}]),a}(n.Component),fe=a(409),ge=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changeName=function(){var e="";switch(n.props.columnName){case"hardwareType":e="hardware type";break;case"interfaceVersion":e="interface version";break;case"connectionMechanism":e="connection mechanism"}return e},n.label={hardwareType:"Hardware type",interfaceVersion:"Interface version",connectionMechanism:"Connection mechanism"},n.renderField=function(){var e=n.props.columnName,t=c.a.createElement(c.a.Fragment,null," ");if(!e)return t;switch(e){case"connectionMechanism":t=c.a.createElement(c.a.Fragment,null,c.a.createElement(H.a,{id:"connectionMechanism",select:!0,label:"Connection mechanism",name:"connectionMechanism",value:n.state.deviceInfo[e],onChange:n.onChangeDiviceInfo,required:!0,fullWidth:!0},[{value:"Call home"},{value:"Non Callhome"}].map((function(e){return c.a.createElement(B.a,{key:e.value,value:e.value},e.value)}))));break;default:t=c.a.createElement(c.a.Fragment,null,c.a.createElement(H.a,{margin:"dense",name:e,label:n.label[e],fullWidth:!0,required:!0,onChange:n.onChangeDiviceInfo,value:n.state.deviceInfo[e]}))}return t},n.handleSubmit=function(e){e.preventDefault(),n.props.onCloseDialog();var t=n.state.deviceInfo,a={name:t.name,hardwareType:t.hardwareType,interfaceVersion:t.interfaceVersion,connectionMechanism:t.connectionMechanism,deviceHolderName:t.deviceHolderName};if(console.log("deviceInfo: ",a),n.validateInput(a))return n.resetDivice(),void F.a.error({message:"Error ",description:"Can not edit device"});A("device/".concat(n.props.deviceInfo.name),"PUT",a).then((function(e){200===e.status&&(F.a.success({message:"Success",description:"Edit device successfully!"}),n.props.setNeedRefreshDevice(!0))})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},n.validateInput=function(e){var t=!1;return""===e.hardwareType&&(t=!0),""===e.interfaceVersion&&(t=!0),""===e.connectionMechanism&&(t=!0),t},n.onChangeDiviceInfo=function(e){var t=e.target,a=t.name,c=t.value;console.log("name: ",a),n.setState((function(e){return{deviceInfo:Object(R.a)({},e.deviceInfo,Object(j.a)({},a,c))}}))},n.resetDivice=function(){n.setState({deviceInfo:n.state.deviceInfoBackup},(function(){return console.log(n.state)}))},n.handleCancel=function(){n.props.onCloseDialog(),n.resetDivice()},n.state={deviceInfo:{},deviceInfoBackup:{}},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({deviceInfo:this.props.deviceInfo,deviceInfoBackup:this.props.deviceInfo})}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.deviceInfo)!==JSON.stringify(e.deviceInfo)&&this.setState({deviceInfo:this.props.deviceInfo,deviceInfoBackup:this.props.deviceInfo})}},{key:"render",value:function(){var e=this.renderField(),t=this.changeName();return c.a.createElement("div",null,c.a.createElement(I.a,{open:this.props.openDialog,onClose:this.props.onCloseDialog,"aria-labelledby":"form-dialog-title"},c.a.createElement(T.a,{id:"form-dialog-title"},"Edit ",t),c.a.createElement(P.a,null,c.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},e,c.a.createElement(w.a,null,c.a.createElement(M.a,{onClick:this.handleCancel,color:"primary"},"Cancel"),c.a.createElement(M.a,{variant:"contained",type:"submit",color:"primary"},"Save"))))))}}]),a}(n.Component),Ee=a(253),be=a.n(Ee),Ce=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClickOpen=function(e){n.setState({open:!0,columnName:e})},n.handleClose=function(){n.setState({open:!1})},n.state={open:!1,columnName:""},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=this.props.deviceInfo;return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3"}),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 deviceDetailCard"},c.a.createElement(Q.a,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 mx-auto my-auto",id:"img"},c.a.createElement(ee.a,{className:"mx-auto my-auto imageCloud",image:ae.a,title:"device detail"})),c.a.createElement("div",{className:"col-lg-9 col-md-9 col-sm-9"},c.a.createElement(Z.a,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6"},c.a.createElement(h.a,{variant:"caption",gutterBottom:!0},"Device name"),c.a.createElement(h.a,{className:"deviceDetail"},t.name),c.a.createElement(h.a,{variant:"caption",gutterBottom:!0},"Hardware type"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6"},c.a.createElement(h.a,{className:"deviceDetail"},t.hardwareType)),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 pen"},c.a.createElement(y.a,{onClick:function(){return e.handleClickOpen("hardwareType")}},c.a.createElement(fe.a,{position:"start"},c.a.createElement(be.a,null))))),c.a.createElement(h.a,{variant:"caption",gutterBottom:!0},"Interface version"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6"},c.a.createElement(h.a,{className:"deviceDetail"},t.interfaceVersion)),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 pen"},c.a.createElement(y.a,{onClick:function(){return e.handleClickOpen("interfaceVersion")}},c.a.createElement(fe.a,{position:"start"},c.a.createElement(be.a,null)))))),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6"},c.a.createElement(h.a,{variant:"caption",gutterBottom:!0},"Connection mechanism"),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6"},c.a.createElement(h.a,{className:"deviceDetail"},t.connectionMechanism)),c.a.createElement("div",{className:"col-lg-6 col-md-6 col-sm-6 pen"},c.a.createElement(y.a,{onClick:function(){return e.handleClickOpen("connectionMechanism")}},c.a.createElement(fe.a,{position:"start"},c.a.createElement(be.a,null))))),c.a.createElement(h.a,{variant:"caption",gutterBottom:!0},"Device holder"),c.a.createElement(h.a,null,t.deviceHolderName)))))))),c.a.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3"})),c.a.createElement(ge,{openDialog:this.state.open,onCloseDialog:this.handleClose,deviceInfo:t,columnName:this.state.columnName,setNeedRefreshDevice:this.props.setNeedRefreshDevice}))}}]),a}(n.Component),Ne=function(e,t){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e),disabled:t}},De=function(e){var t=e.children,a=e.value,n=e.index,l=Object(z.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({hidden:a!==n},l,{className:"tabContent"}),a===n&&c.a.createElement("div",null,t))},Oe=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getDevice=function(){var e=n.props.name;A("device?name=".concat(e),"GET",null).then((function(e){200===e.status&&n.setState({deviceInfo:e.data})})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},n.handleChange=function(e,t){n.setState({value:t})},n.state={value:0,deviceInfo:""},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.getDevice()}},{key:"componentDidUpdate",value:function(e,t){this.props.needRefreshDevice&&(this.getDevice(),this.props.setNeedRefreshDevice(!1))}},{key:"render",value:function(){var e=this.state.deviceInfo;return c.a.createElement("div",{className:"row"},c.a.createElement(Y.a,{position:"static",elevation:0},c.a.createElement(X.a,{value:this.state.value,onChange:this.handleChange,className:"tabHeader",indicatorColor:"primary",textColor:"primary"},c.a.createElement($.a,Object.assign({className:"tabTitle",label:"DEVICE"},Ne(0,!1))),c.a.createElement($.a,Object.assign({className:"tabTitle",label:"EXTENSIONS"},Ne(1,!1))),c.a.createElement($.a,Object.assign({className:"tabTitle",label:"LOGGING"},Ne(2,!1))))),c.a.createElement(De,{value:this.state.value,index:0},c.a.createElement(Ce,{deviceInfo:e,setNeedRefreshDevice:this.props.setNeedRefreshDevice})),c.a.createElement(De,{value:this.state.value,index:1}),c.a.createElement(De,{value:this.state.value,index:2}))}}]),a}(n.Component),ye=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setNeedRefreshDevice=function(e){n.setState({needRefreshDevice:e})},n.state={needRefreshDevice:!1},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.match.params,t=e.deviceHolder,a=e.name,n=this.props.history;return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("div",{className:"row",id:"tool"},c.a.createElement(pe,{history:n,name:a,deviceHolder:t,setNeedRefreshDevice:this.setNeedRefreshDevice})),c.a.createElement(Oe,{name:a,deviceHolder:t,needRefreshDevice:this.state.needRefreshDevice,setNeedRefreshDevice:this.setNeedRefreshDevice}))}}]),a}(n.Component),ke=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=n.state.deviceHolderName;""!==t?A("device-holder","POST",{deviceHolderName:t}).then((function(e){200===e.status&&(F.a.success({message:"Success",description:"Add device holder successfully!"}),n.props.setNeedRefreshDeviceHolderState(!0),n.setState({deviceHolderName:""}))})).catch((function(e){e.response.data?F.a.error({message:"Error",description:e.response.data.message}):F.a.error({message:"Error",description:e.message})})):F.a.error({message:"Error ",description:"Mandatory attribute (name) is missing"})},n.onChangeDiviceHolder=function(e){n.setState({deviceHolderName:e.target.value})},n.state={open:!1,deviceHolderName:""},n}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(I.a,{open:this.props.openDialog,onClose:this.props.onCloseDialog,"aria-labelledby":"form-dialog-title"},c.a.createElement(T.a,{id:"form-dialog-title"},"Create device holder"),c.a.createElement(P.a,null,c.a.createElement("form",{onSubmit:this.handleSubmit,noValidate:!0,autoComplete:"off"},c.a.createElement(H.a,{margin:"dense",id:"deviceHolderName",name:"deviceHolderName",label:"Device holder name",fullWidth:!0,autoFocus:!0,required:!0,onChange:this.onChangeDiviceHolder}),c.a.createElement(w.a,null,c.a.createElement(M.a,{onClick:this.props.onCloseDialog,color:"primary"},"Cancel"),c.a.createElement(M.a,{onClick:this.props.onCloseDialog,variant:"contained",type:"submit",color:"primary"},"Save"))))))}}]),a}(n.Component),Se=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).onClickDeleteButton=function(){n.setState({openDelete:!0})},n.onClickReloadButton=function(){n.props.setNeedRefreshDeviceHolderState(!0)},n.handleClickOpen=function(){n.setState({openAdd:!0})},n.handleClose=function(){n.setState({openAdd:!1})},n.handleCloseDelete=function(){n.setState({openDelete:!1})},n.pathIconButton=[{pathName:"Breadcrumb",iconButtons:[{id:1,icon:c.a.createElement(g.a,null),disable:!1,onClick:n.handleClickOpen,title:"Create device holder"},{id:2,icon:c.a.createElement(b.a,null),disable:!1,onClick:n.onClickDeleteButton,title:"Delete all device holders"},{id:3,icon:c.a.createElement(N.a,null),disable:!1,onClick:n.onClickReloadButton,title:"Refresh"}]}],n.handleClick=function(e){e.preventDefault(),console.info("You clicked a breadcrumb.")},n.state={openAdd:!1,openDelete:!1},n}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-lg-8 col-md-8 col-sm-8 path"},c.a.createElement(u.a,{separator:c.a.createElement(p.a,{fontSize:"small"}),"aria-label":"breadcrumb"},c.a.createElement(k.a,{title:"Devices"},c.a.createElement(h.a,{color:"textPrimary",className:"link"},"Device holders"))),c.a.createElement("h3",{id:"currentName"},"Device holders")),c.a.createElement("div",{className:"col-lg-4 col-md-4 col-sm-4 content-flex-end"},this.pathIconButton[0].iconButtons.map((function(e,t){return c.a.createElement(S,{key:t,icon:e.icon,disable:e.disable,onClick:e.onClick,title:e.title})})),c.a.createElement(ke,{openDialog:this.state.openAdd,onCloseDialog:this.handleClose,setNeedRefreshDeviceHolderState:this.props.setNeedRefreshDeviceHolderState}),c.a.createElement(q,{title:"device holders",openDialog:this.state.openDelete,handleCloseDelete:this.handleCloseDelete,setNeedRefreshDeviceHolderState:this.props.setNeedRefreshDeviceHolderState}))))}}]),a}(n.Component),je=a(450),Re=a.n(je),He=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){var e=this.props.deviceHolderItem;return c.a.createElement("div",null,e&&c.a.createElement(J.b,{to:"/".concat(e.deviceHolderName,"/devices")},c.a.createElement(Q.a,{variant:"outlined",className:"cardRoot"},c.a.createElement(ee.a,{className:"cardCover",image:Re.a,title:"device holder"}),c.a.createElement("div",{className:"cardDetail"},c.a.createElement(Z.a,{className:"cardText"},c.a.createElement(k.a,{title:e.deviceHolderName},c.a.createElement(h.a,{variant:"h6",gutterBottom:!0},e.deviceHolderName)),c.a.createElement(k.a,{title:"".concat(e.noOfDevices," devices")},c.a.createElement(h.a,{variant:"body2",gutterBottom:!0},e.noOfDevices," devices")))))))}}]),a}(n.Component),Ie=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChangePage=function(e){n.setState({page:e});var t=n.state.numberRowPerPage;n.props.changePage(e+1,t)},n.handleChangeRowPerPage=function(e){n.setState({numberRowPerPage:e}),n.setState({page:0}),n.props.changePage(1,e)},n.state={deviceHolderList:[],numberRowPerPage:8,totalRow:0,page:0},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){this.setState({deviceHolderList:this.props.deviceHolderList,totalRow:this.props.total})}},{key:"componentDidUpdate",value:function(e,t){JSON.stringify(this.props.deviceHolderList)!==JSON.stringify(e.deviceHolderList)&&this.setState({deviceHolderList:this.props.deviceHolderList,totalRow:this.props.total})}},{key:"render",value:function(){var e=this,t=this.state,a=t.deviceHolderList,n=t.totalRow;console.log("tttt: ",this.props.total);var l=a&&a.length>0;return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},l&&c.a.createElement(K.a,{columns:[{field:"deviceItem",render:function(e){var t=c.a.createElement(c.a.Fragment,null," ");return e.deviceHolderItem&&e.deviceHolderItem.length>0&&(t=e.deviceHolderItem.map((function(e,t){return c.a.createElement("div",{key:t,className:"col-lg-3 col-md-3 col-sm-3 pr-1 pl-1 pb-3"},c.a.createElement(He,{deviceHolderItem:e}))}))),c.a.createElement("div",{className:"dislay-flexbox"}," ",t," ")}}],data:[{deviceHolderItem:a}],options:{toolbar:!1},components:{Pagination:function(t){return c.a.createElement(ce.a,{component:"div",labelRowsPerPage:"Items per page:",rowsPerPageOptions:[8,16,24],rowsPerPage:e.state.numberRowPerPage,count:n,page:e.state.page,onChangePage:function(t,a){return e.handleChangePage(a)},onChangeRowsPerPage:function(t){e.handleChangeRowPerPage(t.target.value)}})}}}))}}]),a}(n.Component),we=function(e,t){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e),disabled:t}},Pe=function(e){var t=e.children,a=e.value,n=e.index,l=Object(z.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({hidden:a!==n},l,{className:"tabContent"}),a===n&&c.a.createElement("div",null,t))},Te=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).getDiviceHolderList=function(e,t){A("device-holder?page=".concat(e,"&limit=").concat(t),"GET",null).then((function(e){200===e.status&&(console.log("device holders: ",e.data),n.setState({deviceHolderList:e.data.deviceHolderVOS,total:e.data.total}))})).catch((function(e){F.a.error({message:"Error ",description:e.message})}))},n.changePage=function(e,t){n.setState({page:e,limit:t}),n.getDiviceHolderList(e,t)},n.handleChange=function(e,t){n.setState({value:t})},n.state={value:0,deviceHolderList:[],total:0,page:1,limit:8},n}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this.state,t=e.page,a=e.limit;this.getDiviceHolderList(t,a)}},{key:"componentDidUpdate",value:function(e,t){if(this.props.needRefreshDeviceHolder){var a=this.state,n=a.page,c=a.limit;this.getDiviceHolderList(n,c),this.props.setNeedRefreshDeviceHolderState(!1)}}},{key:"render",value:function(){var e=this.state.deviceHolderList,t=this.state.total;return console.log("total: ",t),c.a.createElement("div",{className:"row"},c.a.createElement(Y.a,{position:"static",elevation:0},c.a.createElement(X.a,{value:this.state.value,onChange:this.handleChange,"aria-label":"tabs menu",indicatorColor:"primary",textColor:"primary",className:"tabHeader"},c.a.createElement($.a,Object.assign({className:"tabTitle",label:"DEVICE HOLDERS"},we(0,!1))),c.a.createElement($.a,Object.assign({className:"tabTitle",label:"EXTENSIONS"},we(1,!1))),c.a.createElement($.a,Object.assign({className:"tabTitle",label:"LOGGING"},we(2,!1))))),c.a.createElement(Pe,{value:this.state.value,index:0},c.a.createElement(de,null),c.a.createElement(Ie,{changePage:this.changePage,deviceHolderList:e,total:t})),c.a.createElement(Pe,{value:this.state.value,index:1}),c.a.createElement(Pe,{value:this.state.value,index:2}))}}]),a}(n.Component),Me=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).setNeedRefreshDeviceHolderState=function(e){n.setState({needRefreshDeviceHolder:e})},n.state={needRefreshDeviceHolder:!1},n}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("div",{className:"row",id:"tool"},c.a.createElement(Se,{setNeedRefreshDeviceHolderState:this.setNeedRefreshDeviceHolderState})),c.a.createElement(Te,{needRefreshDeviceHolder:this.state.needRefreshDeviceHolder,setNeedRefreshDeviceHolderState:this.setNeedRefreshDeviceHolderState}))}}]),a}(n.Component),Be=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return c.a.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12"},c.a.createElement("h2",null,"Page not found"))}}]),a}(n.Component),Le=a(108),xe=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return F.a.config({duration:3}),c.a.createElement(J.a,null,c.a.createElement("div",{className:"container-fluid"},c.a.createElement(m,null),c.a.createElement("div",{className:"row"},c.a.createElement(Le.c,null,c.a.createElement(Le.a,{path:"/",exact:!0,component:Me}),c.a.createElement(Le.a,{path:"/:deviceHolder/devices",exact:!0,component:ve}),c.a.createElement(Le.a,{path:"/:deviceHolder/devices/:name",exact:!0,component:ye}),c.a.createElement(Le.a,{component:Be})))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(xe,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[459,1,2]]]);
//# sourceMappingURL=main.90e20d1d.chunk.js.map
{"ast":null,"code":"import _classCallCheck from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import MaterialTable from\"material-table\";import DeviceItem from\"./DeviceItem.js\";import TablePagination from\"@material-ui/core/TablePagination\";var DeviceList=/*#__PURE__*/function(_Component){_inherits(DeviceList,_Component);var _super=_createSuper(DeviceList);function DeviceList(props){var _this;_classCallCheck(this,DeviceList);_this=_super.call(this,props);_this.handleChangePage=function(page){_this.setState({page:page});var limit=_this.state.numberRowPerPage;_this.props.changePage(page+1,limit);};_this.handleChangeRowPerPage=function(value){_this.setState({numberRowPerPage:value});_this.setState({page:0});_this.props.changePage(1,value);};_this.state={deviceList:[],numberRowPerPage:8,totalRow:0,page:0};return _this;}_createClass(DeviceList,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({deviceList:this.props.deviceList,totalRow:this.props.total});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(JSON.stringify(this.props.deviceList)!==JSON.stringify(prevProps.deviceList)){this.setState({deviceList:this.props.deviceList,totalRow:this.props.total});}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,deviceList=_this$state.deviceList,totalRow=_this$state.totalRow;var hasDeviceList=deviceList&&deviceList.length>0;return/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12 col-md-12 col-sm-12\"},hasDeviceList&&/*#__PURE__*/React.createElement(MaterialTable,{columns:[{field:\"deviceItem\",render:function render(rowData){var result=/*#__PURE__*/React.createElement(React.Fragment,null,\" \");if(rowData.deviceItem&&rowData.deviceItem.length>0){result=rowData.deviceItem.map(function(device,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"col-lg-3 col-md-3 col-sm-3 pr-1 pl-1 pb-3\"},/*#__PURE__*/React.createElement(DeviceItem,{deviceItem:device}));});}return/*#__PURE__*/React.createElement(\"div\",{className:\"dislay-flexbox\"},\" \",result,\" \");}}],data:[{deviceItem:deviceList}],options:{toolbar:false},components:{Pagination:function Pagination(props){return/*#__PURE__*/React.createElement(TablePagination// {...props}\n,{component:\"div\",labelRowsPerPage:\"Items per page:\",rowsPerPageOptions:[8,16,24],rowsPerPage:_this2.state.numberRowPerPage,count:totalRow,page:_this2.state.page,onChangePage:function onChangePage(e,page){return _this2.handleChangePage(page);},onChangeRowsPerPage:function onChangeRowsPerPage(event){_this2.handleChangeRowPerPage(event.target.value);}});}}}));}}]);return DeviceList;}(Component);export default DeviceList;","map":{"version":3,"sources":["/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/src/components/DeviceList.js"],"names":["React","Component","MaterialTable","DeviceItem","TablePagination","DeviceList","props","handleChangePage","page","setState","limit","state","numberRowPerPage","changePage","handleChangeRowPerPage","value","deviceList","totalRow","total","prevProps","prevState","JSON","stringify","hasDeviceList","length","field","render","rowData","result","deviceItem","map","device","index","toolbar","Pagination","e","event","target"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport MaterialTable from \"material-table\";\r\nimport DeviceItem from \"./DeviceItem.js\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\n\r\nclass DeviceList extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      deviceList: [],\r\n      numberRowPerPage: 8,\r\n      totalRow: 0,\r\n      page: 0,\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      deviceList: this.props.deviceList,\r\n      totalRow: this.props.total,\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (\r\n      JSON.stringify(this.props.deviceList) !==\r\n      JSON.stringify(prevProps.deviceList)\r\n    ) {\r\n      this.setState({\r\n        deviceList: this.props.deviceList,\r\n        totalRow: this.props.total,\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChangePage = (page) => {\r\n    this.setState({ page: page });\r\n    let limit = this.state.numberRowPerPage;\r\n    this.props.changePage(page + 1, limit);\r\n  };\r\n\r\n  handleChangeRowPerPage = (value) => {\r\n    this.setState({ numberRowPerPage: value });\r\n    this.setState({ page: 0 });\r\n    this.props.changePage(1, value);\r\n  };\r\n\r\n  render() {\r\n    let { deviceList, totalRow } = this.state;\r\n    const hasDeviceList = deviceList && deviceList.length > 0;\r\n    return (\r\n      <div className=\"col-lg-12 col-md-12 col-sm-12\">\r\n        {hasDeviceList && (\r\n          <MaterialTable\r\n            columns={[\r\n              {\r\n                field: \"deviceItem\",\r\n                render: (rowData) => {\r\n                  let result = <> </>;\r\n                  if (rowData.deviceItem && rowData.deviceItem.length > 0) {\r\n                    result = rowData.deviceItem.map((device, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className=\"col-lg-3 col-md-3 col-sm-3 pr-1 pl-1 pb-3\"\r\n                      >\r\n                        <DeviceItem deviceItem={device} />\r\n                      </div>\r\n                    ));\r\n                  }\r\n                  return <div className=\"dislay-flexbox\"> {result} </div>;\r\n                },\r\n              },\r\n            ]}\r\n            data={[{ deviceItem: deviceList }]}\r\n            options={{\r\n              toolbar: false,\r\n            }}\r\n            components={{\r\n              Pagination: (props) => (\r\n                <TablePagination\r\n                  // {...props}\r\n                  component=\"div\"\r\n                  labelRowsPerPage=\"Items per page:\"\r\n                  rowsPerPageOptions={[8, 16, 24]}\r\n                  rowsPerPage={this.state.numberRowPerPage}\r\n                  count={totalRow}\r\n                  page={this.state.page}\r\n                  onChangePage={(e, page) => this.handleChangePage(page)}\r\n                  onChangeRowsPerPage={(event) => {\r\n                    this.handleChangeRowPerPage(event.target.value);\r\n                  }}\r\n                />\r\n              ),\r\n            }}\r\n          />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DeviceList;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _classCallCheck from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _objectWithoutProperties from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{Component}from\"react\";import AppBar from\"@material-ui/core/AppBar\";import Tabs from\"@material-ui/core/Tabs\";import Tab from\"@material-ui/core/Tab\";import DeviceList from\"./DeviceList.js\";import callApi from\"../util/ApiCaller.js\";import{notification}from\"antd\";import\"antd/dist/antd.css\";import LoadingSpinerComponent from\"./common/loading/loading.js\";var a11yProps=function a11yProps(index,disable){return{id:\"simple-tab-\".concat(index),\"aria-controls\":\"simple-tabpanel-\".concat(index),disabled:disable};};var TabPanel=function TabPanel(props){var children=props.children,value=props.value,index=props.index,other=_objectWithoutProperties(props,[\"children\",\"value\",\"index\"]);return/*#__PURE__*/React.createElement(\"div\",Object.assign({hidden:value!==index},other,{className:\"tabContent\"}),value===index&&/*#__PURE__*/React.createElement(\"div\",null,children));};var TabMenuDevices=/*#__PURE__*/function(_Component){_inherits(TabMenuDevices,_Component);var _super=_createSuper(TabMenuDevices);function TabMenuDevices(props){var _this;_classCallCheck(this,TabMenuDevices);_this=_super.call(this,props);_this.getDiviceList=function(deviceHolder,page,limit){callApi(\"device/\".concat(deviceHolder,\"?page=\").concat(page,\"&limit=\").concat(limit),\"GET\",null).then(function(res){if(res.status===200){_this.setState({deviceList:res.data.deviceVOS,total:res.data.total});}}).catch(function(error){notification.error({message:\"Error \",description:\"aaaa \"+error.message});});};_this.changePage=function(page,limit){_this.setState({page:page,limit:limit});_this.getDiviceList(_this.props.param,page,limit);};_this.handleChange=function(event,newValue){_this.setState({value:newValue});};_this.state={value:0,deviceList:[],deviceHolder:\"\",total:0,page:1,limit:8};return _this;}_createClass(TabMenuDevices,[{key:\"componentDidMount\",value:function componentDidMount(){//send request get all devices\nthis.setState({deviceHolder:this.props.param});var _this$state=this.state,page=_this$state.page,limit=_this$state.limit;this.getDiviceList(this.props.param,page,limit);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState){if(this.props.needRefreshTabMenu){var _this$state2=this.state,page=_this$state2.page,limit=_this$state2.limit;this.getDiviceList(this.props.param,page,limit);this.props.setNeedRefreshTabMenuState(false);}}},{key:\"render\",value:function render(){var _this$state3=this.state,deviceList=_this$state3.deviceList,total=_this$state3.total;var param=this.props.param;return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(AppBar,{position:\"static\",elevation:0},/*#__PURE__*/React.createElement(Tabs,{value:this.state.value,onChange:this.handleChange,\"aria-label\":\"tabs menu\"// TabIndicatorProps={{ style: { background: \"#00C9FF\"}}}\n,indicatorColor:\"primary\",textColor:\"primary\",className:\"tabHeader\"},/*#__PURE__*/React.createElement(Tab,Object.assign({className:\"tabTitle\",label:\"DEVICES\"},a11yProps(0,false))),/*#__PURE__*/React.createElement(Tab,Object.assign({className:\"tabTitle\",label:\"EXTENSIONS\"},a11yProps(1,false))),/*#__PURE__*/React.createElement(Tab,Object.assign({className:\"tabTitle\",label:\"LOGGING\"},a11yProps(2,false))))),param&&/*#__PURE__*/React.createElement(TabPanel,{value:this.state.value,index:0},/*#__PURE__*/React.createElement(LoadingSpinerComponent,null),/*#__PURE__*/React.createElement(DeviceList,{changePage:this.changePage,param:param,deviceList:deviceList,total:total})),/*#__PURE__*/React.createElement(TabPanel,{value:this.state.value,index:1}),/*#__PURE__*/React.createElement(TabPanel,{value:this.state.value,index:2}));}}]);return TabMenuDevices;}(Component);export default TabMenuDevices;","map":{"version":3,"sources":["/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/src/components/TabMenuDevices.js"],"names":["React","Component","AppBar","Tabs","Tab","DeviceList","callApi","notification","LoadingSpinerComponent","a11yProps","index","disable","id","disabled","TabPanel","props","children","value","other","TabMenuDevices","getDiviceList","deviceHolder","page","limit","then","res","status","setState","deviceList","data","deviceVOS","total","catch","error","message","description","changePage","param","handleChange","event","newValue","state","prevProps","prevState","needRefreshTabMenu","setNeedRefreshTabMenuState"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Tabs from \"@material-ui/core/Tabs\";\r\nimport Tab from \"@material-ui/core/Tab\";\r\nimport DeviceList from \"./DeviceList.js\";\r\nimport callApi from \"../util/ApiCaller.js\";\r\nimport { notification } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport LoadingSpinerComponent from \"./common/loading/loading.js\";\r\n\r\nconst a11yProps = (index, disable) => {\r\n  return {\r\n    id: `simple-tab-${index}`,\r\n    \"aria-controls\": `simple-tabpanel-${index}`,\r\n    disabled: disable,\r\n  };\r\n};\r\n\r\nconst TabPanel = (props) => {\r\n  const { children, value, index, ...other } = props;\r\n  return (\r\n    <div hidden={value !== index} {...other} className=\"tabContent\">\r\n      {value === index && <div>{children}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nclass TabMenuDevices extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      value: 0,\r\n      deviceList: [],\r\n      deviceHolder: \"\",\r\n      total:0,\r\n      page:1,\r\n      limit: 8,\r\n    };\r\n  }\r\n\r\n  getDiviceList = (deviceHolder, page, limit) => {\r\n    callApi(`device/${deviceHolder}?page=${page}&limit=${limit}`, \"GET\", null)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          this.setState({\r\n            deviceList: res.data.deviceVOS,\r\n            total: res.data.total,\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        notification.error({\r\n          message: \"Error \",\r\n          description: \"aaaa \" + error.message,\r\n        });\r\n      });\r\n  };\r\n\r\n  componentDidMount() {\r\n    //send request get all devices\r\n    this.setState({ deviceHolder: this.props.param });\r\n    let {page, limit} = this.state;\r\n    this.getDiviceList(this.props.param, page, limit);\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (this.props.needRefreshTabMenu) {\r\n      let {page, limit} = this.state;\r\n      this.getDiviceList(this.props.param, page, limit);\r\n      this.props.setNeedRefreshTabMenuState(false);\r\n    }\r\n  }\r\n\r\n  changePage = (page, limit) => {\r\n    this.setState({\r\n      page: page,\r\n      limit: limit,\r\n    });\r\n    this.getDiviceList(this.props.param, page, limit);\r\n  }\r\n\r\n  handleChange = (event, newValue) => {\r\n    this.setState({ value: newValue });\r\n  };\r\n\r\n  render() {\r\n    let { deviceList, total } = this.state;\r\n    const { param } = this.props;\r\n    return (\r\n      <div className=\"row\">\r\n        <AppBar position=\"static\" elevation={0}>\r\n          <Tabs\r\n            value={this.state.value}\r\n            onChange={this.handleChange}\r\n            aria-label=\"tabs menu\"\r\n            // TabIndicatorProps={{ style: { background: \"#00C9FF\"}}}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            className=\"tabHeader\"\r\n          >\r\n            <Tab\r\n              className=\"tabTitle\"\r\n              label=\"DEVICES\"\r\n              {...a11yProps(0, false)}\r\n            />\r\n            <Tab\r\n              className=\"tabTitle\"\r\n              label=\"EXTENSIONS\"\r\n              {...a11yProps(1, false)}\r\n            />\r\n            <Tab\r\n              className=\"tabTitle\"\r\n              label=\"LOGGING\"\r\n              {...a11yProps(2, false)}\r\n            />\r\n          </Tabs>\r\n        </AppBar>\r\n        {param && (\r\n          <TabPanel value={this.state.value} index={0}>\r\n            <LoadingSpinerComponent />\r\n            <DeviceList changePage={this.changePage} param={param} deviceList={deviceList} total={total} />\r\n          </TabPanel>\r\n        )}\r\n        <TabPanel value={this.state.value} index={1}></TabPanel>\r\n        <TabPanel value={this.state.value} index={2}></TabPanel>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default TabMenuDevices;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import TextField from\"@material-ui/core/TextField\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Button from\"@material-ui/core/Button\";import MenuItem from\"@material-ui/core/MenuItem\";import callApi from\"../util/ApiCaller\";import{notification}from\"antd\";import\"antd/dist/antd.css\";var DialogDevice=/*#__PURE__*/function(_Component){_inherits(DialogDevice,_Component);var _super=_createSuper(DialogDevice);function DialogDevice(props){var _this;_classCallCheck(this,DialogDevice);_this=_super.call(this,props);_this.handleSubmit=function(e){e.preventDefault();var deviceHolderName=_this.state.deviceHolderName;_this.props.onCloseDialog();var _this$state$deviceInf=_this.state.deviceInfo,name=_this$state$deviceInf.name,hardwareType=_this$state$deviceInf.hardwareType,interfaceVersion=_this$state$deviceInf.interfaceVersion,connectionMechanism=_this$state$deviceInf.connectionMechanism;var deviceInfo={name:name,hardwareType:hardwareType,interfaceVersion:interfaceVersion,connectionMechanism:connectionMechanism,deviceHolderName:deviceHolderName};var checkInsert=name&&hardwareType&&interfaceVersion&&connectionMechanism&&deviceHolderName;if(!checkInsert){notification.error({message:\"Error \",description:\"Can not insert device\"});return;}callApi(\"device\",\"POST\",deviceInfo).then(function(res){if(res.status===200){notification.success({message:\"Success\",description:\"Add device successfully!\"});_this.props.setNeedRefreshTabMenuState(true);_this.setState({name:\"\",hardwareType:\"\",interfaceVersion:\"\",connectionMechanism:\"\"});}}).catch(function(error){notification.error({message:\"Error \",description:error.message});});};_this.onChangeDiviceInfo=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(function(prevState){return{deviceInfo:_objectSpread({},prevState.deviceInfo,_defineProperty({},name,value))};});};_this.state={open:false,deviceInfo:{},deviceHolderName:\"\"};return _this;}_createClass(DialogDevice,[{key:\"componentDidMount\",value:function componentDidMount(){this.setState({deviceHolderName:this.props.deviceHolder});}},{key:\"render\",value:function render(){var connectionMechanismList=[{value:\"Call home\"},{value:\"Non Callhome\"}];return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Dialog,{open:this.props.openDialog,onClose:this.props.onCloseDialog,\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Create device\"),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,noValidate:true,autoComplete:\"off\"},/*#__PURE__*/React.createElement(TextField,{margin:\"dense\",id:\"name\",name:\"name\",label:\"Device name\",fullWidth:true,autoFocus:true,required:true,onChange:this.onChangeDiviceInfo}),/*#__PURE__*/React.createElement(TextField,{margin:\"dense\",id:\"hardwareType\",name:\"hardwareType\",label:\"Hardware type\",fullWidth:true,required:true,onChange:this.onChangeDiviceInfo}),/*#__PURE__*/React.createElement(TextField,{margin:\"dense\",id:\"interfaceVersion\",name:\"interfaceVersion\",label:\"Interface version\",fullWidth:true,required:true,onChange:this.onChangeDiviceInfo}),/*#__PURE__*/React.createElement(TextField,{id:\"connectionMechanism\",name:\"connectionMechanism\",margin:\"dense\",select:true,label:\"Connection mechanism\",onChange:this.onChangeDiviceInfo,required:true,fullWidth:true},connectionMechanismList.map(function(option){return/*#__PURE__*/React.createElement(MenuItem,{key:option.value,value:option.value},option.value);})),/*#__PURE__*/React.createElement(TextField,{id:\"deviceHolder\",name:\"deviceHolderName\",margin:\"dense\",label:\"Device holder\",value:this.props.deviceHolder,required:true,disabled:true,fullWidth:true}),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:this.props.onCloseDialog,color:\"primary\"},\"Cancel\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",type:\"submit\",color:\"primary\"},\"Save\"))))));}}]);return DialogDevice;}(Component);export default DialogDevice;","map":{"version":3,"sources":["/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/src/components/DialogDevice.js"],"names":["React","Component","TextField","Dialog","DialogActions","DialogContent","DialogTitle","Button","MenuItem","callApi","notification","DialogDevice","props","handleSubmit","e","preventDefault","deviceHolderName","state","onCloseDialog","deviceInfo","name","hardwareType","interfaceVersion","connectionMechanism","checkInsert","error","message","description","then","res","status","success","setNeedRefreshTabMenuState","setState","catch","onChangeDiviceInfo","event","target","value","prevState","open","deviceHolder","connectionMechanismList","openDialog","map","option"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport callApi from \"../util/ApiCaller\";\r\nimport { notification } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\n\r\nclass DialogDevice extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      open: false,\r\n      deviceInfo: {},\r\n      deviceHolderName: \"\",\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({deviceHolderName: this.props.deviceHolder});\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const {deviceHolderName} = this.state;\r\n    this.props.onCloseDialog();\r\n    const {\r\n      name,\r\n      hardwareType,\r\n      interfaceVersion,\r\n      connectionMechanism,\r\n    } = this.state.deviceInfo;\r\n    const deviceInfo = {\r\n      name,\r\n      hardwareType,\r\n      interfaceVersion,\r\n      connectionMechanism,\r\n      deviceHolderName,\r\n    };\r\n    const checkInsert =\r\n      name &&\r\n      hardwareType &&\r\n      interfaceVersion &&\r\n      connectionMechanism &&\r\n      deviceHolderName;\r\n    if (!checkInsert) {\r\n      notification.error({\r\n        message: \"Error \",\r\n        description: \"Can not insert device\",\r\n      });\r\n      return;\r\n    }\r\n    callApi(\"device\", \"POST\", deviceInfo)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          notification.success({\r\n            message: \"Success\",\r\n            description: \"Add device successfully!\",\r\n          });\r\n          this.props.setNeedRefreshTabMenuState(true);\r\n          this.setState({\r\n            name: \"\",\r\n            hardwareType: \"\",\r\n            interfaceVersion: \"\",\r\n            connectionMechanism: \"\",\r\n          });\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        notification.error({\r\n          message: \"Error \",\r\n          description: error.message,\r\n        });\r\n      });\r\n  };\r\n\r\n  onChangeDiviceInfo = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState((prevState) => ({\r\n      deviceInfo: {\r\n        ...prevState.deviceInfo,\r\n        [name]: value,\r\n      },\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const connectionMechanismList = [\r\n      { value: \"Call home\" },\r\n      { value: \"Non Callhome\" },\r\n    ];\r\n    return (\r\n      <div>\r\n        <Dialog\r\n          open={this.props.openDialog}\r\n          onClose={this.props.onCloseDialog}\r\n          aria-labelledby=\"form-dialog-title\"\r\n        >\r\n          <DialogTitle id=\"form-dialog-title\">Create device</DialogTitle>\r\n          <DialogContent>\r\n            <form onSubmit={this.handleSubmit} noValidate autoComplete=\"off\">\r\n              <TextField\r\n                margin=\"dense\"\r\n                id=\"name\"\r\n                name=\"name\"\r\n                label=\"Device name\"\r\n                fullWidth\r\n                autoFocus\r\n                required\r\n                onChange={this.onChangeDiviceInfo}\r\n              />\r\n              <TextField\r\n                margin=\"dense\"\r\n                id=\"hardwareType\"\r\n                name=\"hardwareType\"\r\n                label=\"Hardware type\"\r\n                fullWidth\r\n                required\r\n                onChange={this.onChangeDiviceInfo}\r\n              />\r\n              <TextField\r\n                margin=\"dense\"\r\n                id=\"interfaceVersion\"\r\n                name=\"interfaceVersion\"\r\n                label=\"Interface version\"\r\n                fullWidth\r\n                required\r\n                onChange={this.onChangeDiviceInfo}\r\n              />\r\n              <TextField\r\n                id=\"connectionMechanism\"\r\n                name=\"connectionMechanism\"\r\n                margin=\"dense\"\r\n                select\r\n                label=\"Connection mechanism\"\r\n                onChange={this.onChangeDiviceInfo}\r\n                required\r\n                fullWidth\r\n              >\r\n                {connectionMechanismList.map((option) => (\r\n                  <MenuItem key={option.value} value={option.value}>\r\n                    {option.value}\r\n                  </MenuItem>\r\n                ))}\r\n              </TextField>\r\n                <TextField\r\n                  id=\"deviceHolder\"\r\n                  name=\"deviceHolderName\"\r\n                  margin=\"dense\"\r\n                  label=\"Device holder\"\r\n                  value={this.props.deviceHolder}\r\n                  required\r\n                  disabled\r\n                  fullWidth\r\n                >\r\n                 \r\n                </TextField>\r\n\r\n              <DialogActions>\r\n                <Button onClick={this.props.onCloseDialog} color=\"primary\">\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                >\r\n                  Save\r\n                </Button>\r\n              </DialogActions>\r\n            </form>\r\n          </DialogContent>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogDevice;\r\n"]},"metadata":{},"sourceType":"module"}
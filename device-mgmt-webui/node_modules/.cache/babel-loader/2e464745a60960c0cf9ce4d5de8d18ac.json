{"ast":null,"code":"import _classCallCheck from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogTitle from\"@material-ui/core/DialogTitle\";import Button from\"@material-ui/core/Button\";import callApi from\"../util/ApiCaller\";import{notification}from\"antd\";import\"antd/dist/antd.css\";import{Typography}from\"@material-ui/core\";var DialogDelete=/*#__PURE__*/function(_Component){_inherits(DialogDelete,_Component);var _super=_createSuper(DialogDelete);function DialogDelete(){var _this;_classCallCheck(this,DialogDelete);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleSubmit=function(e){e.preventDefault();_this.props.handleCloseDelete();var _this$props=_this.props,history=_this$props.history,param=_this$props.param,title=_this$props.title,name=_this$props.name,deviceHolder=_this$props.deviceHolder;if(title===\"devices\"){_this.deleteDevices(param,history);}if(title===\"device\"){_this.deleteDeviceItem(name,history,deviceHolder);}if(title===\"device holders\"){_this.deleteDeviceHolders();}};_this.deleteDevices=function(param,history){callApi(\"device?deviceHolderName=\".concat(param),\"DELETE\",null).then(function(res){if(res.status===200){notification.success({message:\"Success\",description:\"Delete devices successfully!\"});_this.props.setNeedRefreshTabMenuState(true);history.push(\"/\");}}).catch(function(error){notification.error({message:\"Error \",description:error.message});});};_this.deleteDeviceItem=function(name,history,deviceHolder){callApi(\"device/\".concat(name),\"DELETE\",null).then(function(res){if(res.status===200){notification.success({message:\"Success\",description:\"Delete device successfully!\"});_this.props.setNeedRefreshDevice(true);history.push(\"/\".concat(deviceHolder,\"/devices\"));}}).catch(function(error){notification.error({message:\"Error \",description:error.message});});};_this.deleteDeviceHolders=function(){callApi(\"device-holder\",\"DELETE\",null).then(function(res){if(res.status===200){notification.success({message:\"Success\",description:\"Delete all device holder successfully!\"});_this.props.setNeedRefreshDeviceHolderState(true);}}).catch(function(error){notification.error({message:\"Error \",description:error.message});});};return _this;}_createClass(DialogDelete,[{key:\"render\",value:function render(){var openDialog=this.props.openDialog;return/*#__PURE__*/React.createElement(\"div\",null,openDialog&&/*#__PURE__*/React.createElement(Dialog,{open:this.props.openDialog,onClose:this.props.handleCloseDelete,\"aria-labelledby\":\"form-dialog-title\"},/*#__PURE__*/React.createElement(DialogTitle,{id:\"form-dialog-title\"},\"Delete \",this.props.title),/*#__PURE__*/React.createElement(DialogContent,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleSubmit,noValidate:true,autoComplete:\"off\"},/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",gutterBottom:true},\"Are you sure you want to delete this \",this.props.title,\"?\"),/*#__PURE__*/React.createElement(DialogActions,null,/*#__PURE__*/React.createElement(Button,{onClick:this.props.handleCloseDelete,color:\"primary\"},\"No\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",type:\"submit\",color:\"primary\"},\"Yes\"))))));}}]);return DialogDelete;}(Component);export default DialogDelete;","map":{"version":3,"sources":["/home/tminhdo/Desktop/DeviceMgmt/device-mgmt/device-mgmt-webui/src/components/DialogDelete.js"],"names":["React","Component","Dialog","DialogActions","DialogContent","DialogTitle","Button","callApi","notification","Typography","DialogDelete","handleSubmit","e","preventDefault","props","handleCloseDelete","history","param","title","name","deviceHolder","deleteDevices","deleteDeviceItem","deleteDeviceHolders","then","res","status","success","message","description","setNeedRefreshTabMenuState","push","catch","error","setNeedRefreshDevice","setNeedRefreshDeviceHolderState","openDialog"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport callApi from \"../util/ApiCaller\";\r\nimport { notification } from \"antd\";\r\nimport \"antd/dist/antd.css\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nclass DialogDelete extends Component {\r\n\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    this.props.handleCloseDelete();\r\n    const { history, param, title, name, deviceHolder} = this.props;\r\n    if(title === \"devices\") {\r\n      this.deleteDevices(param, history);\r\n    }\r\n    if(title === \"device\") {\r\n      this.deleteDeviceItem(name, history, deviceHolder)\r\n    }\r\n    if(title === \"device holders\") {\r\n      this.deleteDeviceHolders();\r\n    }\r\n    \r\n  };\r\n\r\n  deleteDevices = (param, history) => {\r\n    callApi(`device?deviceHolderName=${param}`, \"DELETE\", null)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          notification.success({\r\n            message: \"Success\",\r\n            description: \"Delete devices successfully!\",\r\n          });\r\n          this.props.setNeedRefreshTabMenuState(true);\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        notification.error({\r\n          message: \"Error \",\r\n          description: error.message,\r\n        });\r\n      });\r\n  }\r\n\r\n  deleteDeviceItem = (name, history, deviceHolder) => {\r\n    callApi(`device/${name}`, \"DELETE\", null)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          notification.success({\r\n            message: \"Success\",\r\n            description: \"Delete device successfully!\",\r\n          });\r\n          this.props.setNeedRefreshDevice(true);\r\n          history.push(`/${deviceHolder}/devices`);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        notification.error({\r\n          message: \"Error \",\r\n          description: error.message,\r\n        });\r\n      });\r\n  }\r\n\r\n  deleteDeviceHolders = () => {\r\n    callApi(\"device-holder\", \"DELETE\", null)\r\n      .then((res) => {\r\n        if (res.status === 200) {\r\n          notification.success({\r\n            message: \"Success\",\r\n            description: \"Delete all device holder successfully!\",\r\n          });\r\n          this.props.setNeedRefreshDeviceHolderState(true);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        notification.error({\r\n          message: \"Error \",\r\n          description: error.message,\r\n        });\r\n      });\r\n  }\r\n\r\n  render() {\r\n    const {openDialog} = this.props;\r\n    return (\r\n      <div>\r\n          {openDialog && (\r\n            <Dialog\r\n            open={this.props.openDialog}\r\n            onClose={this.props.handleCloseDelete}\r\n            aria-labelledby=\"form-dialog-title\"\r\n          >\r\n            <DialogTitle id=\"form-dialog-title\">Delete {this.props.title}</DialogTitle>\r\n            <DialogContent>\r\n              <form onSubmit={this.handleSubmit} noValidate autoComplete=\"off\">\r\n          <Typography variant=\"body2\" gutterBottom>Are you sure you want to delete this {this.props.title}?</Typography>\r\n                <DialogActions>\r\n                  <Button onClick={this.props.handleCloseDelete} color=\"primary\">\r\n                    No\r\n                  </Button>\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                  >\r\n                    Yes\r\n                  </Button>\r\n                </DialogActions>\r\n              </form>\r\n            </DialogContent>\r\n          </Dialog>\r\n          )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default DialogDelete;\r\n"]},"metadata":{},"sourceType":"module"}